(this.webpackJsonpshotterud=this.webpackJsonpshotterud||[]).push([[0],{72:function(e,t,n){e.exports=n(85)},82:function(e,t,n){},83:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(9),l=n.n(i),c=n(49),s=n.n(c),o=n(57),m=n(23),u=n(113),d=n(122),f=n(117),p=n(120),E=n(63),g=n.n(E),v=n(64),h=n.n(v),S=n(50),b=n(121),y=n(128),x=n(123),O=n(124),j=n(131),w=n(125),N=n(132),M=n(62),k=n.n(M),C=n(127),I=n(130);function J(e){var t=Object(a.useCallback)((function(){var t=document.querySelector("#inputName").value;""===t||t.length>20||(e.names.push({name:t,selected:!1}),e.setNames(e.names.filter((function(e){return!0}))),document.querySelector("#inputName").value="",window.sessionStorage.setItem("names",JSON.stringify(e.names)))}),[e]);return Object(a.useEffect)((function(){document.querySelector("#inputName").addEventListener("keypress",(function(e){"Enter"===e.key&&t()}),!0)}),[t]),r.a.createElement(u.a,{container:!0,direction:"column",spacing:4},r.a.createElement(u.a,{container:!0,item:!0,justify:"center"},r.a.createElement(f.a,{variant:"h4"},"Add Names")),r.a.createElement(u.a,{container:!0,item:!0,justify:"center"},r.a.createElement(C.a,{id:"inputName",label:"Add name"}),r.a.createElement(p.a,{variant:"outlined",onClick:t},"Add")),r.a.createElement(u.a,{container:!0,item:!0,direction:!0,row:!0,justify:"center"},e.names.map((function(t){return r.a.createElement(I.a,{label:t.name.toUpperCase(),onDelete:function(){return function(t){e.setNames(e.names.filter((function(e){return e!==t}))),window.sessionStorage.setItem("names",JSON.stringify(e.names.filter((function(e){return e!==t}))))}(t)},color:"primary"})}))))}var A=r.a.forwardRef((function(e,t){return r.a.createElement(b.a,Object.assign({direction:"up",ref:t},e))}));function T(e){var t=function(){e.setOpen(!e.open),window.location.reload()};return r.a.createElement(y.a,{fullScreen:!0,open:e.open,onClose:t,TransitionComponent:A},r.a.createElement(d.a,{style:{position:"relative"}},r.a.createElement(x.a,null,r.a.createElement(O.a,{edge:"start",color:"inherit",onClick:t,"aria-label":"close"},r.a.createElement(k.a,null)),r.a.createElement(f.a,{variant:"h6"},"Settings"))),r.a.createElement(u.a,{container:!0,direction:"column",style:{padding:"16px",width:"inherit"},spacing:4},r.a.createElement(u.a,{item:!0,xs:!0},r.a.createElement(f.a,null,"Minimum/Maximum time (min) before spin"),r.a.createElement(j.a,{value:e.settings.minMaxSec,valueLabelDisplay:"auto",step:.5,marks:!0,min:.5,max:20,onChange:function(t,n){e.setSettings(Object(S.a)({},e.settings,{minMaxSec:n})),window.sessionStorage.setItem("minMaxSec",JSON.stringify(e.settings.minMaxSec))}})),r.a.createElement(u.a,{item:!0,xs:!0},r.a.createElement(f.a,null,"Max amt. of spinners"),r.a.createElement(w.a,{value:e.settings.amtSpinners,onChange:function(t){e.setSettings(Object(S.a)({},e.settings,{amtSpinners:t.target.value})),window.sessionStorage.setItem("amtSpinners",JSON.stringify(t.target.value))}},r.a.createElement(N.a,{value:1},"1"),r.a.createElement(N.a,{value:2},"2"),r.a.createElement(N.a,{value:3},"3"),r.a.createElement(N.a,{value:4},"4"))),r.a.createElement(u.a,{item:!0,xs:!0},r.a.createElement(J,{names:e.names,setNames:e.setNames}))))}var q=n(14),B=n.n(q);n(82);function D(e){var t=Object(a.useCallback)((function(){var t=e.names.map((function(e){return e.name})),a=[],r=B()("#loadout"+e.nr),i=30,l=1e4;B()("#roll"+e.nr).attr("disabled",!0);var c,s,o=0,m=0;B()(r).html(""),B()("#log"+e.nr).html(""),r.css("left","100%"),t.length<10?(i=20,l=5e3):(i=10,l=1e4);for(var u=0;u<i;u++){n(a=t);for(var d=0;d<t.length;d++)r.append('<td><div class="roller"><div>'+a[d]+"</div></div></td>"),o+=192}m=Math.round(o/2),c=m-300,s=m+300,m=Math.floor(Math.random()*(s-c+1)+c),B()("#loadout"+e.nr).animate({left:"-="+m},l,(function(){B()("#roll"+e.nr).attr("disabled",!1),B()("#loadout"+e.nr).children("td").each((function(){var t=window.innerWidth/2;if(B()(this).offset().left<t&&B()(this).offset().left+185>t){var n=B()(this).children().text();B()("#log"+e.nr).append('Sk\xe5l <span class="badge">'+n+"!</span>"),B()("#prev-names").append("<div>"+n+"</div>")}}))}))}),[e]);function n(e){for(var t,n,a=e.length;a>0;)n=Math.random()*a--|0,t=e[a],e[a]=e[n],e[n]=t}return Object(a.useEffect)((function(){t()}),[t]),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row topbox"},r.a.createElement("div",{className:"col-md-6 col-md-offset-3 rollbox"},r.a.createElement("div",{className:"line"}),r.a.createElement("table",null,r.a.createElement("tr",{className:"loadout",id:"loadout"+e.nr})))),r.a.createElement("div",{className:"col-md-12",style:{textAlign:"center"}},r.a.createElement("div",{className:"log",id:"log"+e.nr})))}n(83);(0,n(84).disableBodyScroll)(document.querySelector("#root")),l.a.render(r.a.createElement((function(e){var t=JSON.parse(sessionStorage.getItem("names")),n=JSON.parse(sessionStorage.getItem("amtSpinners")),i=JSON.parse(sessionStorage.getItem("minMaxSec")),c=Object(a.useState)(null!==t?t:[]),E=Object(m.a)(c,2),v=E[0],S=E[1],b=Object(a.useState)({amtSpinners:null!==n?n:1,minMaxSec:null!==i?i:[10,15]}),y=Object(m.a)(b,2),x=y[0],O=y[1],j=Object(a.useState)(!1),w=Object(m.a)(j,2),N=w[0],M=w[1],k=Object(a.useCallback)((function(e){return new Promise((function(t){setTimeout((function(){e(),t()}),1e3*(Math.random()*(60*x.minMaxSec[1]-60*x.minMaxSec[0])+60*x.minMaxSec[0]))}))}),[x.minMaxSec]),C=Object(a.useCallback)((function(){var e=101*Math.random(),t=e>80&&x.amtSpinners>=2,n=e>92&&x.amtSpinners>=3,a=1;return e>96&&x.amtSpinners>=4?a=4:n?a=3:t&&(a=2),r.a.createElement(u.a,{container:!0,direction:"column",justify:"center",style:{height:"100%"},spacing:4},Array(a).fill().map((function(e,t){return r.a.createElement(u.a,{item:!0},r.a.createElement(D,{names:v,nr:t}))})))}),[v,x]),I=Object(a.useCallback)(Object(o.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,k((function(){v.length>1&&(l.a.render(C(),document.getElementById("spinners")),setTimeout((function(){l.a.render("",document.getElementById("spinners"))}),25e3))}));case 3:e.next=0;break;case 5:case"end":return e.stop()}}),e)}))),[v,k,C]);return Object(a.useEffect)((function(){I()}),[I]),r.a.createElement("div",null,r.a.createElement(d.a,{style:{height:"26px"}},r.a.createElement(u.a,{container:!0,direction:"column",justify:"center",style:{height:"100%"}},r.a.createElement(u.a,{item:!0,container:!0,direction:"row",justify:"flex-end"},r.a.createElement(u.a,{item:!0,xs:!0,container:!0,id:"prev-names",justify:"flex-end"}),r.a.createElement(u.a,{item:!0},r.a.createElement(g.a,null),r.a.createElement(h.a,null))))),r.a.createElement("div",{id:"spinners",style:{height:"100%",width:"100%",position:"absolute"}}),v.length<2?r.a.createElement(u.a,{container:!0,direction:"row",justify:"center",style:{marginTop:"100px"}},r.a.createElement(f.a,{variant:"h5",style:{textTransform:"uppercase"}},"Add more than 1 player")):null,r.a.createElement(p.a,{variant:"outlined",onClick:function(){return M(!0)},style:{position:"absolute",bottom:"4px",right:"4px"}},"Settings"),r.a.createElement(T,{open:N,setOpen:M,names:v,setNames:S,settings:x,setSettings:O}))}),null),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.55a515b3.chunk.js.map