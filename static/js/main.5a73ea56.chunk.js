(this.webpackJsonpshotterud=this.webpackJsonpshotterud||[]).push([[0],{62:function(e,t,n){e.exports=n(74)},73:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(9),s=n.n(i),l=n(40),o=n.n(l),c=n(50),m=n(21),u=n(106),d=n(41),f=n(107),p=n(113),g=n(108),E=n(109),b=n(110),v=n(105),S=n(101),h=n(115),x=n(111),N=n(55),O=n.n(N),y=n(114);function w(e){var t=Object(a.useCallback)((function(){var t=document.querySelector("#inputName").value;""===t||t.length>20||(e.names.push({name:t,selected:!1}),e.setNames(e.names.filter((function(e){return!0}))),document.querySelector("#inputName").value="",window.sessionStorage.setItem("names",JSON.stringify(e.names)))}),[e]);return Object(a.useEffect)((function(){document.querySelector("#inputName").addEventListener("keypress",(function(e){"Enter"===e.key&&t()}),!0)}),[t]),r.a.createElement(S.a,{container:!0,direction:"column"},r.a.createElement(S.a,{item:!0,container:!0,direction:"column"},r.a.createElement(v.a,{variant:"h4"},"Add Names"),r.a.createElement(S.a,null,r.a.createElement(x.a,{id:"inputName",label:"Add name"}),r.a.createElement(u.a,{variant:"outlined",onClick:t},"Add"))),r.a.createElement(S.a,{container:!0,direction:!0,row:!0,justify:"center"},e.names.map((function(t){return r.a.createElement(y.a,{label:t.name.toUpperCase(),onDelete:function(){return function(t){e.setNames(e.names.filter((function(e){return e!==t}))),window.sessionStorage.setItem("names",JSON.stringify(e.names.filter((function(e){return e!==t}))))}(t)},color:"primary"})}))))}var j=r.a.forwardRef((function(e,t){return r.a.createElement(f.a,Object.assign({direction:"up",ref:t},e))}));function M(e){var t=function(){e.setOpen(!e.open),window.location.reload()};return r.a.createElement(p.a,{fullScreen:!0,open:e.open,onClose:t,TransitionComponent:j},r.a.createElement(g.a,{style:{position:"relative"}},r.a.createElement(E.a,null,r.a.createElement(b.a,{edge:"start",color:"inherit",onClick:t,"aria-label":"close"},r.a.createElement(O.a,null)),r.a.createElement(v.a,{variant:"h6"},"Settings"))),r.a.createElement(S.a,{container:!0,justify:"center",style:{width:"100%"}},r.a.createElement(S.a,{container:!0,direction:"column",style:{padding:"16px",width:"inherit"}},r.a.createElement(S.a,{item:!0,xs:!0},r.a.createElement(v.a,null,"Minimum/Maximum time (min) before spin"),r.a.createElement(h.a,{value:e.settings.minMaxSec,valueLabelDisplay:"auto",step:.5,marks:!0,min:.5,max:20,onChange:function(t,n){e.setSettings(Object(d.a)({},e.settings,{minMaxSec:n})),window.sessionStorage.setItem("minMaxSec",JSON.stringify(e.settings.minMaxSec))}})),r.a.createElement(S.a,{container:!0,item:!0,justify:"center",xs:!0,style:{marginTop:"16px"}},r.a.createElement(x.a,{label:"Number of spinners",type:"number",variant:"outlined",value:e.settings.amtSpinners,onChange:function(t){e.setSettings(Object(d.a)({},e.settings,{amtSpinners:t.target.value<1?1:t.target.value>4?4:t.target.value})),window.sessionStorage.setItem("amtSpinners",JSON.stringify(e.settings.amtSpinners))}})),r.a.createElement(S.a,{item:!0,xs:!0,style:{marginTop:"16px"}},r.a.createElement(w,{names:e.names,setNames:e.setNames})))))}var k=n(14),C=n.n(k);n(73);function I(e){var t=Object(a.useCallback)((function(){var t=e.names.map((function(e){return e.name})),a=[],r=C()("#loadout"+e.nr),i=30,s=1e4;if(t.length<2)return C()("#msgbox").slideToggle(100),setTimeout((function(){C()("#msgbox").slideToggle(100)}),3e3),!1;C()("#roll"+e.nr).attr("disabled",!0);var l,o,c=0,m=0;C()(r).html(""),C()("#log"+e.nr).html(""),r.css("left","100%"),t.length<10?(i=20,s=5e3):(i=10,s=1e4);for(var u=0;u<i;u++){n(a=t);for(var d=0;d<t.length;d++)r.append('<td><div class="roller"><div>'+a[d]+"</div></div></td>"),c+=192}m=Math.round(c/2),l=m-300,o=m+300,m=Math.floor(Math.random()*(o-l+1)+l),C()("#loadout"+e.nr).animate({left:"-="+m},s,(function(){C()("#roll"+e.nr).attr("disabled",!1),C()("#loadout"+e.nr).children("td").each((function(){var t=window.innerWidth/2;if(C()(this).offset().left<t&&C()(this).offset().left+185>t){var n=C()(this).children().text();C()("#log"+e.nr).append('Sk\xe5l <span class="badge">'+n+"!</span>")}}))}))}),[e.names,e.nr]);function n(e){for(var t,n,a=e.length;a>0;)n=Math.random()*a--|0,t=e[a],e[a]=e[n],e[n]=t}return Object(a.useEffect)((function(){t()}),[t]),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row topbox"},r.a.createElement("div",{className:"col-md-6 col-md-offset-3 rollbox"},r.a.createElement("div",{className:"line"}),r.a.createElement("table",null,r.a.createElement("tr",{className:"loadout",id:"loadout"+e.nr})))),r.a.createElement("div",{className:"col-md-12",style:{textAlign:"center"}},r.a.createElement("div",{className:"log",id:"log"+e.nr})),r.a.createElement("button",{onClick:t,id:"roll"+e.nr,className:"btn btn-success form-control roll"},"Roll"))}function J(e){var t=JSON.parse(sessionStorage.getItem("names")),n=JSON.parse(sessionStorage.getItem("amtSpinners")),i=JSON.parse(sessionStorage.getItem("minMaxSec")),l=Object(a.useState)(null!==t?t:[]),d=Object(m.a)(l,2),f=d[0],p=d[1],g=Object(a.useState)({amtSpinners:null!==n?n:1,minMaxSec:null!==i?i:[10,15]}),E=Object(m.a)(g,2),b=E[0],v=E[1],S=Object(a.useState)(!1),h=Object(m.a)(S,2),x=h[0],N=h[1],O=Object(a.useCallback)((function(e){return new Promise((function(t){setTimeout((function(){e(),t()}),1e3*(Math.random()*(60*b.minMaxSec[1]-60*b.minMaxSec[0])+60*b.minMaxSec[0]))}))}),[b.minMaxSec]),y=Object(a.useCallback)(Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,O((function(){console.log("Halla"),s.a.render(r.a.createElement(I,{names:f,nr:1}),document.getElementById("spinners")),setTimeout((function(){s.a.render("",document.getElementById("spinners"))}),25e3)}));case 3:e.next=0;break;case 5:case"end":return e.stop()}}),e)}))),[f,O]);return Object(a.useEffect)((function(){y()}),[y]),r.a.createElement("div",null,r.a.createElement(u.a,{variant:"outlined",onClick:function(){return N(!0)}},"Settings"),r.a.createElement("div",{id:"spinners"}),r.a.createElement(M,{open:x,setOpen:N,names:f,setNames:p,settings:b,setSettings:v}))}s.a.render(r.a.createElement((function(){return r.a.createElement(J,null)}),null),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.5a73ea56.chunk.js.map